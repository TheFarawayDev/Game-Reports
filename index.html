<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAME RE: Port - Game Reviews and Reports</title>
    <link rel="stylesheet" href="./assets/styles.css">
    <link rel="icon" type="image/png" href="./assets/site-icon.png">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-content">
            <a href="index.html" class="logo">GAME RE: Port</a>
        </div>
    </nav>

    <div class="hero">
        <h1>Game Reviews</h1>
        <p>Search for detailed reports with critic reviews and analysis</p>
        <div class="search-controls">
            <input type="text" id="search-input" placeholder="Search games...">
            <select id="sort-select">
                <option value="alphabetical">Sort Alphabetically</option>
                <option value="score">Sort by Score</option>
            </select>
        </div>
    </div>

    <div class="container">
        <div class="game-grid" id="game-grid">
            <a href="roadcraft.html" class="game-card" data-title="RoadCraft" data-score="84">
                <img src="https://pbs.twimg.com/media/GrbmbtpWMAAHW0d.jpg:large" alt="RoadCraft">
                <div class="game-card-content">
                    <h2>RoadCraft</h2>
                    <div class="game-card-score">84%</div>
                    <div class="game-card-tags">
                        <span class="tag">Simulation</span>
                        <span class="tag">Co-op</span>
                    </div>
                </div>
            </a>
            <a href="snowrunner.html" class="game-card" data-title="SnowRunner" data-score="82">
                <img src="https://i.redd.it/0ls5sr858dx41.jpg" alt="SnowRunner">
                <div class="game-card-content">
                    <h2>SnowRunner</h2>
                    <div class="game-card-score">82%</div>
                    <div class="game-card-tags">
                        <span class="tag">Simulation</span>
                        <span class="tag">Co-op</span>
                    </div>
                </div>
            </a>
            <a href="no-mans-sky.html" class="game-card" data-title="No Man's Sky" data-score="92">
                <img src="https://cdn2.steamgriddb.com/icon_thumb/2f2b28d87f6cd2b2fdc1c8e0a0e4d8e1.png" alt="No Man's Sky">
                <div class="game-card-content">
                    <h2>No Man's Sky</h2>
                    <div class="game-card-score">92%</div>
                    <div class="game-card-tags">
                        <span class="tag">Exploration</span>
                        <span class="tag">Multiplayer</span>
                    </div>
                </div>
            </a>
        </div>
        <div id="no-results">No results found</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const gameGrid = document.getElementById('game-grid');
            const searchInput = document.getElementById('search-input');
            const sortSelect = document.getElementById('sort-select');
            const noResults = document.getElementById('no-results');
            const cards = Array.from(gameGrid.querySelectorAll('.game-card'));

            function filterGames() {
                const searchTerm = searchInput.value.toLowerCase();
                let resultsFound = false;

                cards.forEach(card => {
                    const title = card.getAttribute('data-title').toLowerCase();
                    if (title.includes(searchTerm) && searchTerm.trim() !== "") {
                        card.style.display = 'block';
                        resultsFound = true;
                    } else {
                        card.style.display = 'none';
                    }
                });

                // Show/hide "no results" message
                if (searchTerm.trim() === "") {
                    noResults.style.display = "none";
                    cards.forEach(card => card.style.display = 'none');
                } else {
                    noResults.style.display = resultsFound ? "none" : "block";
                }

                if (resultsFound) sortGames();
            }

            function sortGames() {
                const sortType = sortSelect.value;
                const visibleCards = cards.filter(card => card.style.display === 'block');

                visibleCards.sort((a, b) => {
                    if (sortType === 'alphabetical') {
                        return a.getAttribute('data-title').localeCompare(b.getAttribute('data-title'));
                    } else {
                        return parseInt(b.getAttribute('data-score')) - parseInt(a.getAttribute('data-score'));
                    }
                });

                visibleCards.forEach(card => gameGrid.appendChild(card));
            }

            // Search on typing
            searchInput.addEventListener('input', filterGames);

            // Search when pressing Enter
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    filterGames();
                }
            });

            sortSelect.addEventListener('change', sortGames);

            // Hide all cards by default
            cards.forEach(card => card.style.display = 'none');
        });
    </script>
</body>
</html>